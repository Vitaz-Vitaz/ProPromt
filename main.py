import os
import json
from aiogram import Bot, Dispatcher, types, Router
from aiogram.fsm.storage.memory import MemoryStorage
from aiogram.fsm.context import FSMContext
from aiogram.filters import Command, StateFilter
from aiogram.fsm.state import StatesGroup, State
import json

import requests
import re

API_TOKEN = '7878235867:AAEM2ybsAy11nWQYtlgb4TVYTcKXr8K9cTY'
mainPrompt = '''–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –ø—Ä–æ–º—Ç–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å—Ä–∞–≤–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º—Ç —Å –∏–¥–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ–º—Ç–æ–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫—Ä–∞—Ç–∫–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç:
1. **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**  
   - –û–ø—Ä–µ–¥–µ–ª–∏, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º—Ç —è—Å–µ–Ω, –ø–æ–ª–æ–Ω –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏–¥–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ–º—Ç–æ–º.  
   - –í—ã—è–≤–∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è: —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ, –∞ —Ç–∞–∫–∂–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—è—Å–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ.
2. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:**  
   - **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:** —É–∫–∞–∂–∏, –∫–∞–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏–ª–∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–º—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º.  
   - **–ß—Ç–æ —É–±—Ä–∞—Ç—å:** –æ–ø—Ä–µ–¥–µ–ª–∏ –ª–∏—à–Ω–∏–µ –∏–ª–∏ –∑–∞–ø—É—Ç—ã–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —è—Å–Ω–æ—Å—Ç–∏.  
   - **–ß—Ç–æ –∏–∑—É—á–∏—Ç—å:** –ø—Ä–µ–¥–ª–æ–∂–∏ —Ç–µ–º—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –∏ —É–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –ø—Ä–æ–º—Ç–∞.
3. **–í—ã–≤–æ–¥:**  
   - –°–æ—Å—Ç–∞–≤—å –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –≤—ã–≤–æ–¥–∞–º–∏ –ø–æ –æ—Ü–µ–Ω–∫–µ, –≤–∫–ª—é—á–∞—è –æ–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–º—Ç–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
–ò—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
**–†–µ–∑—é–º–µ –æ—Ü–µ–Ω–∫–∏:**  
[–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∏ –æ–±—â–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–º—Ç–∞]
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:**  
- –î–æ–±–∞–≤–∏—Ç—å: [—É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç].  
- –£–±—Ä–∞—Ç—å: [—É–∫–∞–∑–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø—É—Ç–∞–Ω–∏—Ü—É –∏–ª–∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã].  
- –ò–∑—É—á–∏—Ç—å: [–ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–µ–º—É –∏–ª–∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π].
**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ):**  
- [–í–æ–ø—Ä–æ—Å 1 –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–º—Ç–∞].  
- [–í–æ–ø—Ä–æ—Å 2 –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏].
**–ü—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**  
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º—Ç: [–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–º—Ç–∞]  
–ò–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–º—Ç: [–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º—Ç–∞]
–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ñ–æ—Ä–º–∏—Ä—É–π –æ—Ü–µ–Ω–∫—É –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.'''

user_task_state = {}
bot = Bot(token=API_TOKEN)
storage = MemoryStorage()
dp = Dispatcher(storage=storage)
router = Router()
tasks = {
    1: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø—Ä–æ—Å–∏—Ç –ò–ò –ø—Ä–æ–≤–µ—Å—Ç–∏ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞: –≤—ã–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–¥—Ç–µ–∫—Å—Ç—ã –∏ –≤—ã—è–≤–∏—Ç—å –∞—Å–ø–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É–ø—É—â–µ–Ω—ã –ø—Ä–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–º –ø—Ä–æ—á—Ç–µ–Ω–∏–∏.',
        'ideal_promt': '–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ —Å–æ—Å—Ç–∞–≤—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç. –û–ø—Ä–µ–¥–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏, –≤—ã—è–≤–∏ —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–¥—Ç–µ–∫—Å—Ç—ã, –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–µ–¥–≤–∑—è—Ç–æ—Å—Ç–∏ –∏ –∞—Å–ø–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ. –ü—Ä–µ–¥–ª–æ–∂–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏.',
        'data_for_solve': '–í —ç–ø–æ—Ö—É —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ –≤—ã–Ω—É–∂–¥–µ–Ω—ã –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏–≤–∞—Ç—å —Å–≤–æ–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã...'
    },
    2: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Python-–∫–æ–¥–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å–ø–∏—Å–∫–∞ —á–∏—Å–µ–ª –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ Python, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å–ø–∏—Å–∫–∞ —á–∏—Å–µ–ª –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π sort() –∏ sorted(). –ò—Å–ø–æ–ª—å–∑—É–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±—ã—Å—Ç—Ä—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏–ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Å–ª–∏—è–Ω–∏–µ–º. –ü—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: [5, 2, 9, 1, 5, 6].',
        'data_for_solve': '[5, 2, 9, 1, 5, 6]'
    },
    3: {
        'task': '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞—Ç, –∏–º—ë–Ω –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –∏–∑ —Å–ª–æ–∂–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.',
        'ideal_promt': '–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–∞—Ç, –∏–º—ë–Ω –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –∫–ª—é—á–∞–º–∏ "dates", "names" –∏ "organizations". –û–±–æ—Å–Ω—É–π –≤—ã–±–æ—Ä —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –¢–µ–∫—Å—Ç: "–ù–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –≤ MIT 15 –º–∞—Ä—Ç–∞ 2023 –≥–æ–¥–∞ –≤—ã—Å—Ç—É–ø–∞–ª–∏ –ò–ª—å—è –ü–µ—Ç—Ä–æ–≤ –∏–∑ OpenAI –∏ –ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞ –∏–∑ Google.".',
        'data_for_solve': '–ù–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –≤ MIT 15 –º–∞—Ä—Ç–∞ 2023 –≥–æ–¥–∞ –≤—ã—Å—Ç—É–ø–∞–ª–∏ –ò–ª—å—è –ü–µ—Ç—Ä–æ–≤ –∏–∑ OpenAI –∏ –ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞ –∏–∑ Google.'
    },
    4: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø—Ä–æ—Å–∏—Ç –ò–ò –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ–∫—Ä–∞—Å–∫—É —Ç–µ–∫—Å—Ç–∞ –∏ –≤—ã—è–≤–∏—Ç—å –º–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.',
        'ideal_promt': '–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç, –æ–ø—Ä–µ–¥–µ–ª–∏ –µ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ–∫—Ä–∞—Å–∫—É (–ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ, –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ –∏–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ) –∏ –≤—ã—è–≤–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –º–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã, –ø—Ä–µ–¥–≤–∑—è—Ç–æ—Å—Ç—å –∏–ª–∏ —Å–∫—Ä—ã—Ç—ã–µ –ø—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é. –û–±–æ—Å–Ω—É–π —Å–≤–æ–π –≤—ã–≤–æ–¥, –ø—Ä–∏–≤–æ–¥—è –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞.',
        'data_for_solve': '–°–µ–≥–æ–¥–Ω—è –±—ã–ª –æ—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ –≤—Å—ë –ø–æ—à–ª–æ –Ω–∞–ø–µ—Ä–µ–∫–æ—Å—è–∫, –∏ —Ç–µ–ø–µ—Ä—å —è –Ω–µ –∑–Ω–∞—é, –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é.'
    },
    5: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Python-–∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ HTML —Å —É—á–µ—Ç–æ–º –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ HTML, –æ–±–æ—Ä–∞—á–∏–≤–∞—è –∫–∞–∂–¥—ã–π –∞–±–∑–∞—Ü –≤ <p> –∏ –ø—Ä–∏–º–µ–Ω—è—è –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å—Ç–∫—É. –î–æ–±–∞–≤—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏ –¥–ª—è SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <h1>, <meta>, <article>). –û–±—ä—è—Å–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.',
        'data_for_solve': '–≠—Ç–æ –ø—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ HTML.'
    },
    6: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Python-–∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö —Ç—Ä–µ–Ω–¥.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ —Ç—Ä–µ–Ω–¥, –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫—É pandas –∏ –º–µ—Ç–æ–¥ –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∏–∑ scikit-learn. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '[–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ –∑–Ω–∞—á–µ–Ω–∏–π: "–î–∞—Ç–∞, –ó–Ω–∞—á–µ–Ω–∏–µ\n2024-01-01, 100\n2024-02-01, 120\n2024-03-01, 140"]'
    },
    7: {
        'task': '–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞—É—á–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –ø–æ –±–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ, –≤–∫–ª—é—á–∞—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑ –î–ù–ö-—Ü–µ–ø–æ—á–µ–∫.',
        'ideal_promt': '–°–æ–∑–¥–∞–π –Ω–∞—É—á–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –±–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ–¥—ë–Ω –∞–Ω–∞–ª–∏–∑ –î–ù–ö-—Ü–µ–ø–æ—á–∫–∏. –û–ø—Ä–µ–¥–µ–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –º—É—Ç–∞—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π Python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É BioPython.',
        'data_for_solve': '[–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –î–ù–ö: "AGCTTAGCTAATCG"]'},
    8: {
        'task': '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –æ–±—â–∞—è –≤—ã—Ä—É—á–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É pandas –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ matplotlib –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.',
        'data_for_solve': '–î–∞—Ç–∞, –ü—Ä–æ–¥–∞–∂–∏\n2024-01-01, 5000\n2024-02-01, 7000\n2024-03-01, 6000'
    },
    9: {
        'task': '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TF-IDF.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ TF-IDF. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.',
        'data_for_solve': '–¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –º–µ–Ω—è–µ—Ç –º–∏—Ä. –ú—ã –Ω–∞–±–ª—é–¥–∞–µ–º –∑–∞ –µ–≥–æ —Ä–æ—Å—Ç–æ–º –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ–º."'
    },
    10: {
        'task': '–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º—Ç –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ü–µ–Ω –Ω–∞ –∞–∫—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ —Ü–µ–Ω–∞—Ö –∞–∫—Ü–∏–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –±—É–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '–î–∞—Ç–∞, –¶–µ–Ω–∞\n2024-01-01, 150\n2024-02-01, 155\n2024-03-01, 160'},
    11: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ NLP.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ NLTK. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤.',
        'data_for_solve': '–¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –º–µ–Ω—è–µ—Ç –Ω–∞—à –º–∏—Ä –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏."'
    },
    12: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV –∏ —Å–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ matplotlib. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –∏ –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.',
        'data_for_solve': '–î–∞—Ç–∞, –ü—Ä–æ–¥–∞–∂–∏\n2024-01-01, 5000\n2024-02-01, 7000\n2024-03-01, 6000'
    },
    13: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –ø–æ–≥–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –û–±—ä—è—Å–Ω–∏ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '–î–∞—Ç–∞, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞\n2024-01-01, -5\n2024-01-02, -3\n2024-01-03, 0'
    },
    14: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π SQL-–∑–∞–ø—Ä–æ—Å. –û–±—ä—è—Å–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–∞ –∏ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã.',
        'data_for_solve': '–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: "–í—ã–≤–µ—Å—Ç–∏ –∏–º–µ–Ω–∞ –∏ –≤–æ–∑—Ä–∞—Å—Ç–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å—Ç–∞—Ä—à–µ 18 –ª–µ—Ç."'
    },
    15: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –æ –ø—Ä–∏–±—ã–ª—è—Ö –∏ —É–±—ã—Ç–∫–∞—Ö. –ò—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É pandas –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '–î–∞—Ç–∞, –ü—Ä–∏–±—ã–ª—å\n2024-01-01, 10000\n2024-02-01, 15000\n2024-03-01, 12000'
    },
    16: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ pytest. –û–ø–∏—à–∏ –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–æ–≤ –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É.',
        'data_for_solve': '–§—É–Ω–∫—Ü–∏—è: def add(a, b): return a + b'
    },
    17: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–∞.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã. –ò—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É pandas –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '–î–∞—Ç–∞, –ü–æ—Å—Ç—ã\n2024-01-01, 150\n2024-01-02, 200\n2024-01-03, 180'
    },
    18: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—é.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–∏–π —Å–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.',
        'data_for_solve': '–î–∞—Ç–∞, –ü—Ä–æ–¥–∞–∂–∏\n2024-01-01, 300\n2024-01-02, 350\n2024-01-03, 400'
    },
    19: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.',
        'data_for_solve': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ò–≤–∞–Ω", –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: "–§–∏–ª—å–º—ã, –°–ø–æ—Ä—Ç"'
    },
    20: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç-–±–æ—Ç–∞.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞, —Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.',
        'data_for_solve': '–í–æ–ø—Ä–æ—Å: "–ö–∞–∫–æ–π —Å–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å?"'
    },
    21: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ–∫—Ä–∞—Å–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ NLP.',
        'data_for_solve': '–¢–µ–∫—Å—Ç: "–°–µ–≥–æ–¥–Ω—è –±—ã–ª –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å, —Ö–æ—Ç—è –∏ –Ω–µ–º–Ω–æ–≥–æ —Ö–æ–ª–æ–¥–Ω—ã–π."'
    },
    22: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Excel.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å Excel-—Ñ–∞–π–ª–æ–º, –≤—ã–ø–æ–ª–Ω—è—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.',
        'data_for_solve': '–§–∞–π–ª: "–¥–∞–Ω–Ω—ã–µ.xlsx", –ó–∞–¥–∞—á–∞: "–°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–µ A."'
    },
    23: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∑–¥–æ—Ä–æ–≤—å–µ.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∑–¥–æ—Ä–æ–≤—å—è.',
        'data_for_solve': '–î–∞—Ç–∞, –î–∞–≤–ª–µ–Ω–∏–µ, –ü—É–ª—å—Å\n2024-01-01, 120/80, 75\n2024-01-02, 130/85, 80'
    },
    24: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–º–∞—Ç–µ.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –æ —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞.',
        'data_for_solve': '–î–∞—Ç–∞, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞\n2024-01-01, 15\n2024-01-02, 16\n2024-01-03, 14'
    },
    25: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç—Ä–æ–∏—Ç –∏ –æ–±—É—á–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é –Ω–µ–π—Ä–æ–Ω–Ω—É—é —Å–µ—Ç—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ TensorFlow.',
        'data_for_solve': '–î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è: "X_train, y_train"'
    },
    26: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Kivy.',
        'data_for_solve': '–ó–∞–¥–∞—á–∞: "–°–¥–µ–ª–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä."'
    },
    27: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–æ–≤.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR-–∫–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.',
        'data_for_solve': '–î–∞–Ω–Ω—ã–µ: "https://example.com"'
    },
    28: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ PIL.',
        'data_for_solve': '–§–∞–π–ª: "image.jpg", –ó–∞–¥–∞—á–∞: "–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –Ω–∞ 100x100."'
    },
    29: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–∫—Ä–∞–ø–µ—Ä–∞.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ BeautifulSoup.',
        'data_for_solve': 'URL: "https://example.com"'
    },
    30: {
        'task': '–°–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.',
        'ideal_promt': '–ù–∞–ø–∏—à–∏ Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ scipy.',
        'data_for_solve': '–î–∞–Ω–Ω—ã–µ: [1, 2, 3, 4, 5]'
    }
}


class UserState(StatesGroup):
    waiting_for_prompt = State()


@router.message(Command('start'))
async def send_welcome(message: types.Message, state: FSMContext):
    user_id = message.from_user.id
    user_task_state[user_id] = 1
    await message.reply("–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —É–ª—É—á—à–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ–º–ø—Ç-–∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥–∞.\n–ù–∞—á–Ω–µ–º —Å –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è:")
    await send_task(message.chat.id, user_id, state)


async def send_task(chat_id, user_id, state: FSMContext):
    task_number = user_task_state.get(user_id, 1)
    task = tasks.get(task_number)

    if not task:
        await bot.send_message(chat_id, "üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è!")
        return

    await bot.send_message(chat_id, f"üìù –ó–∞–¥–∞–Ω–∏–µ {task_number}:\n\n{task['task']}")
    await state.set_state(UserState.waiting_for_prompt)


@router.message(UserState.waiting_for_prompt)
async def process_prompt(message: types.Message, state: FSMContext):
    user_id = message.from_user.id
    current_task = user_task_state.get(user_id, 1)


    user_prompt = message.text
    analysis = await analyze_prompt(user_prompt)
    print(analysis)
    await message.reply(f"üìä –ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:\n\n{analysis}")


    task = tasks.get(current_task)
    await message.reply(f"üí° –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:\n\n{task['ideal_promt']}")


    next_task = current_task + 1
    if next_task in tasks:
        user_task_state[user_id] = next_task
        await message.answer("‚û°Ô∏è –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é:")
        await send_task(message.chat.id, user_id, state)
    else:
        await message.answer("üéâ –í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è! –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –Ω–∞–∂–º–∏—Ç–µ /start")

    await state.clear()


async def analyze_prompt(prompt):
    print(111)
    url = "https://api.blackbox.ai/api/chat"
    cont = mainPrompt + '–í–æ—Ç –ø—Ä–æ–º–ø—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ü–µ–Ω–∏ –µ–≥–æ —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã—à–µ–Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–º—É:' + prompt
    print(cont)
    payload = json.dumps({
        "messages": [
            {
                "content": cont,
                "role": "user"
            }
        ],
        "model": "deepseek-ai/DeepSeek-V3",
        "max_tokens": 1024
    })

    headers = {
        'Content-Type': 'application/json',

    }

    try:
        response = requests.post(url, headers=headers, data=payload, timeout=10)
        s = response.text
        s = s.replace(']', '').replace('[', '').replace('\\', '').replace('boxed{', '').replace('}', '').replace('*',
                                                                                                                 '')
        return s

    except requests.exceptions.JSONDecodeError:
        pass
    except Exception as e:
        pass


dp.include_router(router)
if __name__ == '__main__':
    import asyncio

    asyncio.run(dp.start_polling(bot, skip_updates=True))
